/* -----------------------------
   Jmod Co. Shared Navigation
   ----------------------------- */

.nav{
  position:sticky; top:0; z-index:50; backdrop-filter: blur(8px);
  background: color-mix(in oklab, var(--bg) 85%, black 15%);
  border-bottom:1px solid #1b2230;
}

.nav .bar{
  display:flex; align-items:center; gap:12px;
  min-height:60px;
}

.nav .brand{
  display:flex; align-items:center; gap:.6rem; font-weight:700; font-size:1.1rem;
}

.nav .brand img{height:28px;width:auto}

.nav .links{
  margin-left:auto;
  display:flex; gap:1rem; align-items:center;
}

.nav a{
  color:var(--ink); text-decoration:none; opacity:.9; font-weight:500;
  transition:opacity .2s ease;
}

.nav a:hover{opacity:1}
.nav .toggle{display:none}

/* --- Active link underline --- */
.is-active{position:relative}
.is-active::after{
  content:""; position:absolute; left:0; right:0; bottom:-8px;
  height:2px; background:var(--accent);
}

/* --- Theme-aware logo swap --- */
:root[data-theme="light"] .nav .logo-dark{display:none}
:root:not([data-theme="light"]) .nav .logo-light{display:none}

/* --- Theme toggle button --- */
.nav .links .theme-toggle{
  border-radius:999px;
  padding:.5rem .9rem;
  font-weight:600;
  line-height:1;
}

/* --- Mobile layout (bubble style) --- */
@media (max-width: 860px){
  .nav { position:sticky; top:0; z-index:50; }
  .nav .toggle{ display:inline-flex; margin-left:auto; }
  .nav .links{ display:none; }

  .nav .tray{ display:none; }
  .nav .tray.open{ display:block; }

  .nav .tray > div{
    background: color-mix(in oklab, var(--panel) 88%, black 12%);
    border: 1px solid #1b2230;
    border-radius: 22px;
    padding: 14px 18px;
    box-shadow: 0 8px 30px rgba(0,0,0,.35),
                inset 0 1px 0 rgba(255,255,255,.04);
    margin-top:10px;
  }

  .nav .tray a{
    display:block;
    text-align:center;
    padding:14px 0;
    font-weight:600;
    border-top:1px solid rgba(255,255,255,.06);
  }
  .nav .tray a:first-child{ border-top:0; }

  .nav .tray .theme-toggle{
    display:block;
    width:100%;
    justify-content:center;
    margin-top:8px;
  }
}