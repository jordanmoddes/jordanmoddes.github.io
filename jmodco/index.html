<!doctype html>
<html lang="en" id="top" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jmod Co. — Preview</title>
  <meta name="description" content="Jmod Co. builds AI-powered, practical systems that simplify daily operations for trades, retailers, and professionals." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --text:#e8eef6;
      --muted:#a7b4c7;
      --brand:#4f86ff;
      --radius:18px;
      --card: rgba(255,255,255,.04);
      --card-border: rgba(255,255,255,.08);
      --header-h: 80px;

      /* Radial sizing */
      --orbit: 300px;
      --node-size: 260px;
      --hub-size: 800px;
      --hub-offset-y: -8px;
      --hub-offset-x: 0px;
    }
    /* Light theme colors + LIGHT background */
    html[data-theme="light"]{
      --text:#0b0f14;
      --muted:#4e5b6e;
      --brand:#335eea;
      --card: rgba(0,0,0,.05);
      --card-border: rgba(0,0,0,.10);
    }

    *{ box-sizing:border-box }
    html,body{ height:100% }
    html{ scroll-behavior:smooth }
    body{
      margin:0;
      color:var(--text);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
      padding-top: var(--header-h);

      /* DARK background */
      background:
        radial-gradient(1000px 600px at 20% 15%, rgba(26,79,132,.35) 0%, rgba(26,79,132,0) 60%),
        radial-gradient(900px 550px at 80% 75%, rgba(16,105,133,.30) 0%, rgba(16,105,133,0) 60%),
        radial-gradient(800px 520px at 95% 8%,  rgba(34,45,82,.35) 0%,  rgba(34,45,82,0) 55%),
        #0a0f18;
      background-attachment: fixed,fixed,fixed,fixed;
      min-height:100vh;
    }
    /* LIGHT background */
    html[data-theme="light"] body{
      background:
        radial-gradient(900px 540px at 20% 15%, rgba(120,160,230,.25) 0%, rgba(120,160,230,0) 60%),
        radial-gradient(800px 520px at 80% 75%, rgba(80,140,220,.20) 0%, rgba(80,140,220,0) 60%),
        #f6f8fc;
      background-attachment: fixed,fixed,fixed;
    }

    a{ color:var(--text); text-decoration:none }
    .container{ max-width:1100px; margin:0 auto; padding:16px 24px }
    .center{ text-align:center }
    .section{ padding:24px 0 }
    h1,h2{ margin:0 0 12px }
    section,header,footer{ scroll-margin-top: calc(var(--header-h) + 16px) }

    /* ===== Header: bubble (Insights style) ===== */
    .header{
      position:fixed; left:0; right:0; top:0; z-index:1002;
      height:var(--header-h);
      background:transparent; /* not a full-width bar */
    }
    .header-inner{
      height:100%;
      display:flex; align-items:center; justify-content:center;
    }
    .nav-bubble{
      width:100%;
      max-width:1100px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:10px 14px;
      border-radius:999px;
      background:rgba(11,15,20,.70);
      backdrop-filter:saturate(120%) blur(10px);
      border:1px solid rgba(255,255,255,.08);
    }
    html[data-theme="light"] .nav-bubble{
      background:rgba(255,255,255,.75);
      border:1px solid rgba(0,0,0,.10);
    }

    .brand .wordmark{ font-weight:800; letter-spacing:.2px }
    .nav{ display:flex; align-items:center; gap:8px; flex-wrap:nowrap }
    .nav a.item{
      display:inline-block; padding:8px 14px;
      border-radius:999px; border:1px solid var(--card-border);
      background:var(--card);
      font-weight:600; letter-spacing:.2px; opacity:.95; transition:.15s ease; white-space:nowrap
    }
    .nav a.item:hover{ opacity:1; background:rgba(255,255,255,.08) }
    html[data-theme="light"] .nav a.item:hover{ background:rgba(0,0,0,.06) }

    /* Toggle pill (Dark/Light with dot; label follows theme color) */
    .toggle{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border-radius:999px;
      border:1px solid var(--card-border); background:var(--card);
      font-weight:700; cursor:pointer; user-select:none; color:var(--text);
    }
    .toggle-dot{
      width:12px; height:12px; border-radius:50%;
      background:#6da3ff; display:inline-block;
      box-shadow:0 0 0 3px rgba(109,163,255,.15);
    }
    html[data-theme="light"] .toggle-dot{ background:#333; box-shadow:0 0 0 3px rgba(0,0,0,.10) }

    /* ===== Mobile menu (high-contrast overlay) ===== */
    .hamburger{
      display:none; border:1px solid var(--card-border); background:var(--card);
      border-radius:12px; padding:10px 12px; font-weight:700; color:var(--text);
    }
    .mobile-panel{
      position:fixed; top:var(--header-h); left:0; right:0;
      z-index:1001;
      display:none; padding:14px 16px 18px;
      background:rgba(10,15,24,.92);             /* Dark overlay */
      backdrop-filter:saturate(120%) blur(10px);
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    html[data-theme="light"] .mobile-panel{
      background:rgba(255,255,255,.96);           /* Light overlay */
      border-bottom:1px solid rgba(0,0,0,.08);
    }
    .mobile-panel.open{ display:block }
    .mobile-links{ display:flex; flex-direction:column; gap:10px }
    .mobile-links a,
    .mobile-links button{
      color:var(--text); text-align:center; font-weight:600;
      padding:12px 14px; border-radius:12px;
      border:1px solid var(--card-border);
      background:rgba(255,255,255,.08);
    }
    html[data-theme="light"] .mobile-links a,
    html[data-theme="light"] .mobile-links button{
      background:rgba(0,0,0,.06);
    }
    body.menu-open{ overflow:hidden }
    @media (max-width:720px){
      .nav{ display:none }
      .hamburger{ display:inline-flex }
    }

    /* ===== Hero ===== */
    .hero-wrap{ max-width:1100px; margin:0 auto; padding:0 24px }
    .hero-grid{ display:grid; grid-template-columns:1.1fr 1.2fr; gap:28px; align-items:center }
    .hero-logo{ display:flex; justify-content:center; align-items:center }
    .hero-logo img{ width:100%; max-width:520px; height:auto; background:transparent; display:block }
    .hero-text h1{ font-size:clamp(32px,6.2vw,64px); font-weight:800; line-height:1.06; margin:0 0 10px }
    .hero-under{ color:var(--muted); text-align:center; margin:14px auto 18px; max-width:900px; padding:0 8px }
    .cta{
      display:block; width:max-content; margin:0 auto 12px;
      background:var(--brand); color:#0b0f14; padding:12px 20px; border-radius:12px; font-weight:700;
      border:1px solid rgba(255,255,255,.12);
    }
    @media (max-width:900px){
      .hero-grid{ grid-template-columns:1fr }
      .hero-text h1{ text-align:center }
    }

    /* ===== About ===== */
    .about{ max-width:920px; margin:40px auto 8px; color:var(--muted) }
    .about h2{ color:var(--text) }

    /* ===== Divisions ===== */
    #divisions.section{ padding: 12px 0 }
    #divisions h2{ margin-bottom: 8px }
    .divisions-sub{ color:var(--muted); margin:4px 0 10px; text-align:center }

    /* Radial: dark surface so TP logos pop even in Light mode */
    .radial-surface{
      border-radius:24px; padding:16px;
      background: rgba(10,15,24,.9);
      border: 1px solid rgba(255,255,255,.08);
    }
    html[data-theme="dark"] .radial-surface{
      background: rgba(10,15,24,.6);
    }

    .divisions-wrap{ display:flex; flex-direction:column; align-items:center; justify-content:center; gap:12px }
    .radial{
      position:relative;
      width:min(980px,95vw);
      aspect-ratio:1 / 1;
      margin:10px auto 12px;
    }
    .radial .hub{
      position:absolute; left:50%; top:50%;
      transform: translate(calc(-50% + var(--hub-offset-x)), calc(-50% + var(--hub-offset-y)));
      width: min(var(--hub-size), 52%);
      pointer-events:none;
    }
    .radial .hub img{ width:100%; height:auto; display:block; background:transparent }

    .radial .imgnode{
      --angle:0deg;
      --_base: translate(calc(-50% + var(--hub-offset-x)), calc(-50% + var(--hub-offset-y))) rotate(var(--angle));
      position:absolute; left:50%; top:50%;
      transform: var(--_base) translateX(var(--orbit)) rotate(calc(-1 * var(--angle)));
      width: var(--node-size); height: var(--node-size);
      display:flex; align-items:center; justify-content:center;
      border-radius:18px; background:transparent;
      filter: drop-shadow(0 2px 10px rgba(0,0,0,.25));
      transition: transform .3s ease; transform-style: preserve-3d;
    }
    .radial .imgnode > img{ max-width:100%; max-height:100%; display:block; background:transparent }
    .radial .imgnode:hover{
      transform: var(--_base) rotateY(360deg) translateX(calc(var(--orbit) + 28px)) rotate(calc(-1 * var(--angle)));
    }

    /* Mobile grid fallback (short descriptions only) */
    .grid8{ display:none !important; grid-template-columns:repeat(2,minmax(0,1fr)); gap:18px; margin:14px auto 54px; width:100% }
    .grid8 .card{
      background:var(--card); border:1px solid var(--card-border); border-radius:16px;
      padding:16px; text-align:center; font-weight:600; display:flex; flex-direction:column; gap:8px
    }
    .grid8 .card img{ width:100%; height:auto; display:block; background:transparent; border-radius:12px }
    .grid8 .caption{ font-size:.95rem; color:var(--text) }

    @media (min-width:860px){ .grid8{ grid-template-columns:repeat(4,minmax(0,1fr)) } }
    @media (max-width:820px){
      .radial{ display:none !important; }
      .grid8{ display:grid !important; }
    }

    /* ===== Vision + Subscribe ===== */
    #vision.section{ padding: 12px 0 20px }
    .two-col{ display:grid; grid-template-columns:1fr; gap:24px; max-width:1100px; margin:12px auto 40px }
    @media (min-width:850px){ .two-col{ grid-template-columns:1fr 1fr } }
    .founder,.subscribe{
      background:var(--card); border:1px solid var(--card-border);
      border-radius:var(--radius); padding:18px; overflow:hidden;
    }
    .subscribe .field{ display:flex; flex-direction:column; margin-bottom:12px }
    .subscribe label{ font-size:.9rem; color:var(--muted); margin-bottom:6px }
    .subscribe input{
      width:100%; background:#111825; border:1px solid rgba(255,255,255,.09); border-radius:12px;
      padding:12px 14px; color:var(--text); font-family:inherit; box-shadow:inset 0 1px 0 rgba(255,255,255,.03)
    }
    html[data-theme="light"] .subscribe input{ background:#ffffff }
    .subscribe .actions{ display:flex; justify-content:flex-end; gap:8px }
    .subscribe button{ background:var(--brand); color:#0b0f14; border:none; border-radius:12px; padding:12px 18px; font-weight:700; cursor:pointer }
    .subscribe small{ color:var(--muted) }

    /* Footer */
    footer{ border-top:1px solid rgba(255,255,255,.08); padding:18px 0; margin-top:30px }
    html[data-theme="light"] footer{ border-top:1px solid rgba(0,0,0,.08) }
    footer .footnav{ display:flex; gap:28px; justify-content:center; color:var(--muted) }
  </style>
</head>
<body>

  <!-- ===== Header (bubble) ===== -->
  <header class="header" role="banner">
    <div class="container header-inner">
      <div class="nav-bubble" role="navigation" aria-label="Primary">
        <div class="brand" aria-label="Jmod Co.">
          <a class="wordmark" href="#top">Jmod Co.</a>
        </div>

        <!-- Desktop nav -->
        <nav class="nav" aria-label="Primary links">
          <a class="item" href="#about">About</a>
          <a class="item" href="#divisions">Divisions</a>
          <a class="item" href="#vision">Vision</a>
          <!-- Theme toggle -->
          <button class="toggle" id="themeToggle" aria-pressed="false" aria-label="Toggle theme">
            <span class="toggle-dot" aria-hidden="true"></span>
            <span id="toggleLabel">Dark</span>
          </button>
        </nav>

        <!-- Mobile hamburger -->
        <button class="hamburger" id="menuBtn" aria-expanded="false" aria-controls="mobilePanel" aria-label="Open menu">Menu</button>
      </div>
    </div>

    <!-- Mobile panel -->
    <div class="mobile-panel" id="mobilePanel">
      <nav class="mobile-links" aria-label="Mobile">
        <a href="#about">About</a>
        <a href="#divisions">Divisions</a>
        <a href="#vision">Vision</a>
        <button class="toggle" id="themeToggleM" aria-pressed="false" aria-label="Toggle theme">
          <span class="toggle-dot" aria-hidden="true"></span>
          <span id="toggleLabelM">Dark</span>
        </button>
      </nav>
    </div>
  </header>

  <!-- ===== Hero ===== -->
  <section class="section">
    <div class="hero-wrap">
      <div class="hero-grid">
        <div class="hero-logo">
          <!-- HERO IMAGE (TP in dark, non-TP in light) -->
          <img id="hero-logo" src="./assets/ParentLogo_TPCrop.png" alt="Jmod Co. Logo">
        </div>
        <div class="hero-text">
          <h1>AI at the core. Systems that run themselves.</h1>
        </div>
      </div>
      <p class="hero-under">Jmod Co. builds <strong>AI-powered</strong>, practical systems that simplify daily operations for trades, retailers, and professionals.</p>
      <a class="cta" href="#divisions" role="button" aria-label="Explore Divisions">Explore Divisions</a>
    </div>
  </section>

  <!-- ===== About ===== -->
  <section class="section" id="about">
    <div class="container about">
      <h2>About Jmod Co.</h2>
      <p>Jmod Co. is the parent layer and the <strong>MODDES™ Core</strong>—our shared AI engine that powers everything we build. We design once, then reuse across brands so teams get consistent data, faster shipping, and less operational drag.</p>
      <p><strong>Labs</strong> explores and prototypes what’s next for Jmod Co. <strong>Systems</strong> is the operational brain—integrations, automation, and control on the MODDES™ Core. <strong>Media</strong> (app + web) streamlines social posting; upgrade for advanced scheduling, branding, and team features. <strong>Insights</strong> plugs MODDES™ into SMB workflows to remove admin busywork and lift throughput. <strong>Legacy</strong> (nonprofit goal) helps older adults engage with AI—confidence, purpose, and practical digital skills.</p>
      <p><strong>Our mission:</strong> make advanced tooling feel simple—so small teams can build like giants.</p>
    </div>
  </section>

  <!-- ===== Divisions ===== -->
  <section class="section" id="divisions">
    <div class="container divisions-wrap">
      <h2 class="center">Our Divisions</h2>
      <div class="divisions-sub">Current focus areas — one base core. Pick a badge to explore; everything runs on the MODDES™ Core.</div>

      <!-- DARK SURFACE: keeps TP logos looking clean even in LIGHT theme -->
      <div class="radial-surface">
        <div class="radial" aria-label="Jmod Co. divisions radial map">
          <!-- HUB ICON (stays TP) -->
          <div class="hub">
            <img src="./assets/JmodLogoIconTP.png" alt="Parent & core">
          </div>

          <!-- SATELLITES — TP ONLY for radial section in BOTH themes -->
          <!-- Top Left → Resume -->
          <a class="imgnode" style="--angle:-135deg" href="https://www.jordanmoddes.com/" rel="noopener">
            <img src="./assets/JmodCo_LogoTP.png" alt="Resume">
          </a>
          <!-- Top → Labs -->
          <a class="imgnode" style="--angle:-90deg" href="https://www.jordanmoddes.com/jmodco/Labs" rel="noopener">
            <img src="./assets/Jmod_LabsTP.png" alt="R&D engine">
          </a>
          <!-- Top Right → Systems -->
          <a class="imgnode" style="--angle:-45deg" href="https://www.jordanmoddes.com/jmodco/Systems" rel="noopener">
            <img src="./assets/Jmod_SystemsTP.png" alt="Automation & control">
          </a>
          <!-- Left → Battlefield -->
          <a class="imgnode" style="--angle:180deg" href="https://www.jordanmoddes.com/battlefield" rel="noopener">
            <img src="./assets/JmodCo_LogoTP.png" alt="Coming Soon">
          </a>
          <!-- Right → Personal Dashboard -->
          <a class="imgnode" style="--angle:0deg" href="https://www.jordanmoddes.com/dashboard" rel="noopener">
            <img src="./assets/JmodCo_LogoTP.png" alt="Personal Dashboard">
          </a>
          <!-- Bottom Left → Insights -->
          <a class="imgnode" style="--angle:135deg" href="https://www.jordanmoddes.com/jmodco/Insights" rel="noopener">
            <img src="./assets/Jmod_InsightsTP.png" alt="SMB AI assist">
          </a>
          <!-- Bottom → Legacy -->
          <a class="imgnode" style="--angle:90deg" href="https://www.jordanmoddes.com/jmodco/Legacy" rel="noopener">
            <img src="./assets/Jmod_LegacyTP.png" alt="AI for seniors">
          </a>
          <!-- Bottom Right → Media -->
          <a class="imgnode" style="--angle:45deg" href="https://www.jordanmoddes.com/jmodco/Media" rel="noopener">
            <img src="./assets/Jmod_MediaTP.png" alt="Social auto-posting">
          </a>
        </div>
      </div>

      <!-- MOBILE GRID (swaps TP/non-TP; short captions only) -->
      <div class="grid8" aria-label="Jmod Co. divisions list">
        <!-- Resume -->
        <a class="card" href="https://www.jordanmoddes.com">
          <img data-img-dark="./assets/JmodCo_LogoTP.png" data-img-light="./assets/JmodCo_Logo.png" alt="Resume">
          <div class="caption">Resume</div>
        </a>
        <!-- Labs -->
        <a class="card" href="./Labs">
          <img data-img-dark="./assets/Jmod_LabsTP.png" data-img-light="./assets/Jmod_Labs.png" alt="R&D engine">
          <div class="caption">R&D engine</div>
        </a>
        <!-- Systems -->
        <a class="card" href="./Systems">
          <img data-img-dark="./assets/Jmod_SystemsTP.png" data-img-light="./assets/Jmod_Systems.png" alt="Automation & control">
          <div class="caption">Automation & control</div>
        </a>
        <!-- Battlefield -->
        <a class="card" href="https://www.jordanmoddes.com/battlefield">
          <img data-img-dark="./assets/JmodCo_LogoTP.png" data-img-light="./assets/JmodCo_Logo.png" alt="Coming Soon">
          <div class="caption">Coming Soon</div>
        </a>
        <!-- Personal Dashboard -->
        <a class="card" href="https://www.jordanmoddes.com/dashboard">
          <img data-img-dark="./assets/JmodCo_LogoTP.png" data-img-light="./assets/JmodCo_Logo.png" alt="Personal Dashboard">
          <div class="caption">Personal Dashboard</div>
        </a>
        <!-- Insights -->
        <a class="card" href="./Insights">
          <img data-img-dark="./assets/Jmod_InsightsTP.png" data-img-light="./assets/Jmod_Insights.png" alt="SMB AI assist">
          <div class="caption">SMB AI assist</div>
        </a>
        <!-- Media -->
        <a class="card" href="./Media">
          <img data-img-dark="./assets/Jmod_MediaTP.png" data-img-light="./assets/Jmod_Media.png" alt="Social auto-posting">
          <div class="caption">Social auto-posting</div>
        </a>
        <!-- Legacy -->
        <a class="card" href="./Legacy">
          <img data-img-dark="./assets/Jmod_LegacyTP.png" data-img-light="./assets/Jmod_Legacy.png" alt="AI for seniors">
          <div class="caption">AI for seniors</div>
        </a>
      </div>
    </div>
  </section>

  <!-- ===== Vision + Subscribe ===== -->
  <section class="section" id="vision">
    <div class="container two-col">
      <div class="founder">
        <h2>Vision</h2>
        <p>We’re building a shared AI core that small teams can actually use—private by default, affordable to start, and powerful as you grow. The strategy is simple: reduce steps, reuse the core, and compound wins across every brand. That’s how we ship faster without adding complexity.</p>
      </div>

      <!-- SUBSCRIBE (placeholder; front-end only) -->
      <form class="subscribe" onsubmit="event.preventDefault();handleSubscribe();">
        <h2>Subscribe for rollouts &amp; early access</h2>
        <div class="field">
          <label for="subEmail">Email</label>
          <input id="subEmail" type="email" placeholder="you@example.com" aria-describedby="subHelp" required />
        </div>
        <div class="actions">
          <button type="submit" id="subBtn">Subscribe</button>
        </div>
        <small id="subHelp">By subscribing, you agree to receive occasional emails from Jmod Co. You can unsubscribe anytime.</small>
      </form>
    </div>
  </section>

  <!-- ===== Footer ===== -->
  <footer>
    <div class="container" style="display:flex;flex-direction:column;gap:10px;align-items:center;text-align:center">
      <div style="font-size:.9rem;color:var(--muted)">Backed and supported by <strong>GPT-5 Engine</strong></div>
      <div class="footnav" style="margin:4px 0 8px">
        <span>Jmod Labs</span>
        <span>Jmod Systems</span>
        <span>Jmod Media</span>
        <span>Jmod Insights</span>
        <span>Jmod Legacy</span>
        
      </div>
      <div style="font-size:.9rem;color:var(--muted)">
        © <span id="year"></span> Jmod Co. · All rights reserved.
      </div>
    </div>
  </footer>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Start in DARK every load (no persistence)
    (function initTheme(){
      document.documentElement.setAttribute('data-theme','dark');
      updateToggleLabels();
      swapThemeImages();
    })();

    function toggleTheme(){
      const html = document.documentElement;
      const next = html.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', next);
      updateToggleLabels();
      swapThemeImages();
    }
    function updateToggleLabels(){
      const isLight = document.documentElement.getAttribute('data-theme') === 'light';
      const label = document.getElementById('toggleLabel');
      const labelM = document.getElementById('toggleLabelM');
      if (label) label.textContent = isLight ? 'Light' : 'Dark';
      if (labelM) labelM.textContent = isLight ? 'Light' : 'Dark';
      const t1 = document.getElementById('themeToggle');
      const t2 = document.getElementById('themeToggleM');
      if (t1) t1.setAttribute('aria-pressed', String(isLight));
      if (t2) t2.setAttribute('aria-pressed', String(isLight));
    }

    // Swap hero + MOBILE GRID images (radial keeps TP always)
    function swapThemeImages(){
      const isLight = document.documentElement.getAttribute('data-theme') === 'light';

      // Hero
      const hero = document.getElementById('hero-logo');
      if (hero){
        hero.src = isLight ? "./assets/JmodCo_LogoCrop.png" : "./assets/ParentLogo_TPCrop.png";
      }
      // Any <img> with data-img-dark/light (MOBILE GRID only)
      document.querySelectorAll('img[data-img-dark][data-img-light]').forEach(img=>{
        img.src = isLight ? img.getAttribute('data-img-light') : img.getAttribute('data-img-dark');
      });
    }

    // Bind toggles
    document.getElementById('themeToggle')?.addEventListener('click', toggleTheme);
    document.getElementById('themeToggleM')?.addEventListener('click', toggleTheme);

    // Mobile menu with keyboard support + scroll lock
    const menuBtn = document.getElementById('menuBtn');
    const panel = document.getElementById('mobilePanel');
    let lastFocus = null;

    function openMenu(){
      lastFocus = document.activeElement;
      panel.classList.add('open');
      document.body.classList.add('menu-open');  // lock scroll
      menuBtn.setAttribute('aria-expanded','true');
      const first = panel.querySelector('a,button'); if (first) first.focus();
      document.addEventListener('keydown', onKeydown);
      document.addEventListener('click', onOutside, { capture:true });
    }
    function closeMenu(){
      panel.classList.remove('open');
      document.body.classList.remove('menu-open'); // unlock scroll
      menuBtn.setAttribute('aria-expanded','false');
      document.removeEventListener('keydown', onKeydown);
      document.removeEventListener('click', onOutside, { capture:true });
      if (lastFocus) menuBtn.focus();
    }
    function onKeydown(e){ if (e.key === 'Escape') closeMenu(); }
    function onOutside(e){ if (!panel.contains(e.target) && e.target !== menuBtn) closeMenu(); }
    menuBtn?.addEventListener('click', ()=>{ panel.classList.contains('open') ? closeMenu() : openMenu(); });
    panel.querySelectorAll('a').forEach(a=>a.addEventListener('click', closeMenu));

    // Smooth scroll with offset for fixed header
    function smoothScrollTo(targetId){
      const el = document.querySelector(targetId);
      if (!el) return;
      const headerH = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-h')) || 80;
      const y = el.getBoundingClientRect().top + window.scrollY - (headerH + 16);
      window.scrollTo({ top: y, behavior: 'smooth' });
    }
    document.querySelectorAll('a[href^="#"]').forEach(link=>{
      link.addEventListener('click', (e)=>{
        const id = link.getAttribute('href');
        if (!id || id === '#top') return;
        e.preventDefault();
        smoothScrollTo(id);
      });
    });

    // Subscribe placeholder (front-end only)
    function handleSubscribe(){
      const email = document.getElementById('subEmail');
      const btn = document.getElementById('subBtn');
      if (!email || !btn) return;
      const val = (email.value || '').trim();
      const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(val);
      if (!ok){ email.focus(); email.setAttribute('aria-invalid','true'); return; }
      email.setAttribute('aria-invalid','false');
      btn.disabled = true; btn.textContent = 'Subscribed!';
      setTimeout(()=>{ btn.disabled=false; btn.textContent='Subscribe'; email.value=''; }, 2200);
    }
    window.handleSubscribe = handleSubscribe;
  </script>
</body>
</html>
