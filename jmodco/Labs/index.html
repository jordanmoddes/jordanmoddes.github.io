<!DOCTYPE html>
<html lang="en" id="top">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jmod Labs — The Innovation Core of Jmod Co.</title>
  <meta name="color-scheme" content="dark light" />

  <style>
/* =========================
   JMOD LABS — GLOBAL STYLES
   ========================= */
:root{
  /* quick knobs */
  --hero-card-pad: 28px;
  --hero-card-pad-m: 18px;
  --hero-logo-scale: 1;
  --panel-opacity: .88;
  --header-h: 60px;

  /* palette */
  --bg:#091019; --bg2:#0b1122;
  --ink:#e8f0ff; --muted:#c7d3ea;
  --border:rgba(201,208,221,.20);
  --shadow:0 10px 30px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.04);
  --radius:18px; --radius-sm:12px; --gap:18px; --maxw:1200px;

  /* glow colors */
  --pulse:#e8fcff;
  --cyan:#6ee8ff;
  --vio:#b066ff;

  /* background tuning */
  --grid-gap: 48px;
  --flow-speed: 5400ms;
  --neuron-speed: 8s;
  --brain-pulse: 4200ms;
}

*{box-sizing:border-box}
html{scroll-behavior:smooth}
html,body{height:100%}
body{
  margin:0; font:16px/1.5 Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color:var(--ink);
  background:
    radial-gradient(1400px 900px at 15% -10%, rgba(176,102,255,.08), transparent 60%),
    radial-gradient(1400px 900px at 115% 8%, rgba(110,232,255,.08), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg2));
  overflow-x:hidden; position:relative; isolation:isolate;
  padding-top: var(--header-h);
}
section{scroll-margin-top: calc(var(--header-h) + 12px)}
a{color:#6ee8ff; text-decoration:none}
a:hover{text-decoration:underline}

/* =========================
   FIXED, PARALLAX BACKGROUND
   ========================= */
#brain-bg{position:fixed; inset:0; z-index:-2; overflow:hidden}
.bg-grid{position:absolute; inset:0; z-index:0;
  background:
   repeating-linear-gradient(0deg, rgba(150,190,255,.10) 0 1px, transparent 1px var(--grid-gap)),
   repeating-linear-gradient(90deg,rgba(150,190,255,.10) 0 1px, transparent 1px var(--grid-gap));
  mask-image: radial-gradient(ellipse at 50% 40%, rgba(255,255,255,.95), rgba(255,255,255,.3) 55%, transparent 80%);
}

/* SVG sits on top of the grid */
#brain-svg{position:absolute; inset:0; width:100%; height:100%; z-index:1; display:block}

/* animated data “highways” */
.flow{stroke:rgba(150,220,255,.35); stroke-width:1.1; stroke-linecap:round;
  stroke-dasharray:2 120; animation:flow var(--flow-speed) cubic-bezier(.25,.6,.2,1) infinite}
@keyframes flow{
  0%{stroke:rgba(240,255,255,.95); stroke-width:1.6; stroke-dashoffset:0; opacity:.95}
  60%{stroke:#6ee8ff; stroke-width:1.1; stroke-dashoffset:-130; opacity:.55}
  100%{stroke:#7ed8ff; stroke-width:1.0; stroke-dashoffset:-260; opacity:.35}
}

/* neuron nodes and halo */
.neuron{fill:#9ddfff}
.halo{fill:none; stroke:rgba(110,232,255,.35); stroke-width:6; filter:blur(2px)}
.neuronPulse{
  animation:neuron var(--neuron-speed) ease-in-out infinite;
  transform-origin:center;
}
@keyframes neuron{
  0%,100%{opacity:.9; transform:scale(1)}
  50%{opacity:.35; transform:scale(.72)}
}

/* the brain silhouette glow */
#brainGlow{filter: drop-shadow(0 0 28px rgba(110,232,255,.45)) drop-shadow(0 0 70px rgba(176,102,255,.35));}
#brainCore{
  fill:url(#brainGrad);
  filter: drop-shadow(0 0 16px rgba(255,255,255,.6));
}
.brainOutline{
  fill:none; stroke:rgba(200,235,255,.65); stroke-width:1.2; opacity:.85;
  filter: drop-shadow(0 0 8px rgba(170,230,255,.5));
}

/* concentric brain pulse */
.pulseRing{ fill:none; stroke:rgba(255,255,255,.25); stroke-width:1.2; opacity:.85;
  transform-origin:50% 50%; animation:brainPulse var(--brain-pulse) ease-out infinite; }
.pulseRing:nth-child(2){ animation-delay:.9s }
.pulseRing:nth-child(3){ animation-delay:1.8s }
@keyframes brainPulse{
  0%{ transform:scale(.6); opacity:.85 }
  70%{ transform:scale(1.22); opacity:.15 }
  100%{ transform:scale(1.34); opacity:0 }
}

/* woven brand text inside brain */
.brandText{ fill:url(#brandGrad); font:800 22px/1 "Inter", ui-sans-serif; letter-spacing:.6px;
  filter: drop-shadow(0 0 10px rgba(120,200,255,.5)); }

/* =========================
   HEADER + NAV (responsive)
   ========================= */
header{
  position:fixed; inset:0 0 auto 0; height:var(--header-h); z-index:50;
  display:flex; align-items:center;
  backdrop-filter:blur(10px);
  background:linear-gradient(180deg, rgba(9,16,25,.88), rgba(9,16,25,.60) 70%, transparent);
  border-bottom:1px solid var(--border)
}
.bar{max-width:var(--maxw); margin:0 auto; width:100%; padding:0 14px;
  display:flex; align-items:center; justify-content:space-between; gap:12px}
.brand{display:flex; align-items:center; gap:10px}
.brand .t1{font-weight:700; letter-spacing:.3px}

/* desktop nav */
nav{display:flex; gap:18px; align-items:center; flex-wrap:wrap}

/* mobile nav toggle */
.nav-toggle{
  display:none; width:38px; height:38px; border-radius:10px; border:1px solid var(--border);
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  align-items:center; justify-content:center; cursor:pointer;
}
.nav-toggle span{ width:18px; height:2px; background:#e8f0ff; position:relative; display:block; }
.nav-toggle span::before,.nav-toggle span::after{
  content:""; position:absolute; left:0; width:18px; height:2px; background:#e8f0ff;
}
.nav-toggle span::before{ top:-6px } .nav-toggle span::after{ top:6px }
.nav-panel{
  display:none; position:fixed; top:var(--header-h); left:0; right:0; z-index:45;
  background:linear-gradient(180deg, #0c1428, #0a1120); border-bottom:1px solid var(--border);
  padding:12px 16px; box-shadow:0 16px 40px rgba(0,0,0,.45);
}
.nav-panel a{display:block; padding:10px 4px; border-radius:8px}
.nav-panel a:active{background:rgba(255,255,255,.06)}
.nav-panel.open{display:block}

/* =========================
   LAYOUT + HERO
   ========================= */
.wrap{max-width:var(--maxw); margin:0 auto; padding:28px 20px; position:relative; z-index:2}

.hero{
  display:grid; grid-template-columns: 1fr 1fr; gap:32px;
  align-items:stretch; padding:56px 20px 24px; margin:0 auto; max-width:var(--maxw);
  position:relative; z-index:2;
}
.hero-card{
  background:rgba(17,19,28,var(--panel-opacity));
  border:1px solid var(--border); border-radius:var(--radius);
  padding:var(--hero-card-pad); box-shadow:var(--shadow); position:relative; overflow:hidden;
  display:flex; flex-direction:column; height:100%;
}
.hero-left{display:flex; align-items:center; justify-content:center;}
.hero-right{display:flex; flex-direction:column; justify-content:center}

.img-slot{flex:1; display:flex; align-items:center; justify-content:center; height:100%;}
.img-slot > img{
  height:100%; width:auto; max-height:100%; max-width:100%; object-fit:contain;
  transform: scale(var(--hero-logo-scale)); transition: transform .25s ease;
}
#heroLogo{ filter: drop-shadow(0 0 26px rgba(110,232,255,.45)); }

.tag{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
  background:linear-gradient(90deg, rgba(176,102,255,.24), rgba(110,232,255,.24));
  border:1px solid var(--border); font-size:.85rem; color:#dbe6ff; margin-bottom:12px}
.hero-right h1{font-size:clamp(28px, 5vw, 46px); margin:0 0 10px}
.hero-right p{color:var(--muted); margin:10px 0 18px}
.cta-row{display:flex; gap:12px; flex-wrap:wrap; justify-content:center}
.btn{display:inline-flex; align-items:center; gap:10px; padding:12px 16px; border-radius:12px; border:1px solid var(--border);
  background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04)); color:var(--ink); box-shadow:var(--shadow);
  cursor:pointer; transition:transform .2s ease, box-shadow .2s ease}
.btn:hover{transform:translateY(-1px); box-shadow:0 18px 40px rgba(110,232,255,.18)}
.btn.primary{background:
  radial-gradient(300px 120px at 20% 20%, rgba(176,102,255,.35), transparent 60%),
  radial-gradient(300px 120px at 80% 20%, rgba(110,232,255,.35), transparent 60%),
  linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.06));
  border-color:rgba(201,208,221,.35)}

/* sections */
section{padding:36px 20px}
.section-title{max-width:var(--maxw); margin:0 auto 16px; display:flex; align-items:baseline; justify-content:space-between; gap:16px}
.section-title h2{margin:0; font-size:clamp(22px,3vw,30px)}
.muted{color:var(--muted)}
.grid{max-width:var(--maxw); margin:0 auto; display:grid; gap:var(--gap); grid-template-columns: repeat(12, 1fr)}
.card{grid-column: span 12; background:rgba(17,19,28,var(--panel-opacity)); border:1px solid var(--border);
  border-radius:var(--radius); padding:18px; box-shadow:var(--shadow); position:relative; overflow:hidden; color:#e7eeff}
@media (min-width:720px){ .card.sm-6{grid-column: span 6} .card.sm-4{grid-column: span 4} .card.sm-3{grid-column: span 3} }
.chips{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px}
.chip{font-size:.75rem; background:#151b2a; border:1px solid var(--border); padding:4px 8px; border-radius:999px; color:#d2dcf4}
.status.beta{background: linear-gradient(90deg, rgba(110,232,255,.20), rgba(110,232,255,.08))}
.status.soon{background: linear-gradient(90deg, rgba(201,208,221,.22), rgba(201,208,221,.08)); color:#e9f1ff}
.redact{position:relative; color:transparent; text-shadow:none}
.redact::after{content:"████████████"; letter-spacing:.08em; color:#e6e6e6; background:#000; padding:0 .25rem; border-radius:4px}
.card p{color:#d2dcf4; margin:8px 0 12px}
.card .actions{display:flex; gap:10px; flex-wrap:wrap}

/* ====== MOBILE ====== */
@media (max-width: 860px){
  :root{ --header-h: 56px; }
  nav{ display:none; }
  .nav-toggle{ display:flex; }
  .bar{ padding:0 10px; }

  .hero{ grid-template-columns: 1fr; gap: 16px; padding: 18px 14px 10px; }
  .hero-card{ padding: var(--hero-card-pad-m); height:auto; }
  .img-slot{ height:auto; }
  .img-slot > img{ height:auto; width: 88vw; max-width: 520px; transform:none; }
  .hero-right h1{ font-size: clamp(24px, 7vw, 34px); }
  .cta-row{ justify-content:flex-start; }
}

/* dialog */
dialog{border:none; border-radius:16px; padding:0; width:min(560px, 92vw);
  background:linear-gradient(180deg, #131a2e, #0f1426); color:var(--ink); box-shadow:0 30px 80px rgba(0,0,0,.55)}
dialog::backdrop{background:radial-gradient(800px 600px at 50% 50%, rgba(110,232,255,.2), rgba(0,0,0,.6))}
.modal{padding:22px; border-bottom:1px solid var(--border)}
.modal-body{padding:18px 22px; display:grid; gap:12px}
.field{display:grid; gap:6px}
.field input{background:#0b1020; border:1px solid var(--border); color:var(--ink); padding:12px 12px; border-radius:10px}
.modal-actions{display:flex; justify-content:flex-end; gap:10px; padding:0 22px 22px}
  </style>
</head>
<body>

  <!-- =========================
       BACKGROUND: GLOWING BRAIN
       ========================= -->
  <div id="brain-bg" aria-hidden="true">
    <div class="bg-grid"></div>

    <svg id="brain-svg" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice">
      <defs>
        <!-- gradients -->
        <linearGradient id="brandGrad" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#e9f7ff"/><stop offset="100%" stop-color="#7bdcff"/>
        </linearGradient>
        <radialGradient id="brainGrad" cx="50%" cy="45%" r="60%">
          <stop offset="0%"  stop-color="#ffffff" stop-opacity=".95"/>
          <stop offset="35%" stop-color="#b7f1ff" stop-opacity=".9"/>
          <stop offset="75%" stop-color="#6ee8ff" stop-opacity=".45"/>
          <stop offset="100%" stop-color="#6ee8ff" stop-opacity="0"/>
        </radialGradient>
        <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="10" result="blur"/>
          <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
      </defs>

      <!-- flowing data lines across canvas -->
      <g opacity=".55">
        <!-- vertical “buses” -->
        <path class="flow" d="M200,-50V850" />
        <path class="flow" d="M450,-50V850" />
        <path class="flow" d="M750,-50V850" />
        <path class="flow" d="M980,-50V850" />
        <!-- arcs that sweep behind content -->
        <path class="flow" d="M-50,560 C320,420 880,420 1250,560" />
        <path class="flow" d="M-50,620 C300,480 900,480 1250,620" />
      </g>

      <!-- Brain group centered -->
      <g id="brainGlow" transform="translate(600 380)">
        <!-- pulse rings -->
        <circle class="pulseRing" r="180" />
        <circle class="pulseRing" r="260" />
        <circle class="pulseRing" r="330" />
      </g>

      <!-- Brain silhouette & core -->
      <g id="brain" transform="translate(600 380)">
        <!-- soft inner light -->
        <ellipse id="brainCore" rx="210" ry="155"></ellipse>

        <!-- outline path (stylized brain) -->
        <path class="brainOutline" d="
          M -160,-40
          q 10,-70 90,-90
          q 60,-15 115,20
          q 45,-18 95,0
          q 60,22 70,80
          q 55,10 70,60
          q 10,40 -20,70
          q 30,65 -55,95
          q -30,70 -130,65
          q -50,30 -110,10
          q -70,15 -110,-25
          q -55,-10 -75,-55
          q -25,-45 10,-85
          q -35,-55 25,-100
          z" />

        <!-- woven brand text inside brain -->
        <text class="brandText" text-anchor="middle" y="10">Jmod Labs</text>
      </g>

      <!-- neurons + halos sprinkled inside the brain -->
      <g id="neurons" transform="translate(600 380)">
        <g class="neuronPulse">
          <circle class="halo"   cx="-90" cy="-30" r="6"/>
          <circle class="neuron" cx="-90" cy="-30" r="2.1"/>
        </g>
        <g class="neuronPulse" style="animation-delay:.6s">
          <circle class="halo"   cx="40" cy="-60" r="6"/>
          <circle class="neuron" cx="40" cy="-60" r="2.1"/>
        </g>
        <g class="neuronPulse" style="animation-delay:1.1s">
          <circle class="halo"   cx="95" cy="10" r="6"/>
          <circle class="neuron" cx="95" cy="10" r="2.1"/>
        </g>
        <g class="neuronPulse" style="animation-delay:1.6s">
          <circle class="halo"   cx="-40" cy="50" r="6"/>
          <circle class="neuron" cx="-40" cy="50" r="2.1"/>
        </g>
        <g class="neuronPulse" style="animation-delay:2.1s">
          <circle class="halo"   cx="-130" cy="35" r="6"/>
          <circle class="neuron" cx="-130" cy="35" r="2.1"/>
        </g>
      </g>

      <!-- animated connections (small pulses) -->
      <g id="synapses" transform="translate(600 380)" filter="url(#softGlow)">
        <path class="flow" d="M -90 -30 Q -20 -10 40 -60" />
        <path class="flow" d="M 40 -60 Q 68 -30 95 10" />
        <path class="flow" d="M -130 35 Q -60 20 -40 50" />
        <path class="flow" d="M -90 -30 Q -70 10 -40 50" />
      </g>
    </svg>
  </div>

  <!-- =========================
       HEADER (desktop + mobile)
       ========================= -->
  <header>
    <div class="bar">
      <div class="brand"><div class="t1">Jmod Labs</div></div>

      <!-- desktop nav -->
      <nav aria-label="Primary">
        <a href="#experiments">Experiments</a>
        <a href="#mandate">Mandate</a>
        <a href="#build">Build</a>
        <a href="#learn">AI Learning</a>
        <a href="#smb">SMB Value</a>
        <a href="#tech">Tech</a>
        <a href="#join">Join</a>
      </nav>

      <!-- mobile toggle -->
      <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="mnav">
        <span></span>
      </button>
    </div>

    <!-- mobile panel -->
    <div id="mnav" class="nav-panel" aria-hidden="true">
      <a href="#experiments">Experiments</a>
      <a href="#mandate">Mandate</a>
      <a href="#build">Build</a>
      <a href="#learn">AI Learning</a>
      <a href="#smb">SMB Value</a>
      <a href="#tech">Tech</a>
      <a href="#join">Join</a>
    </div>
  </header>

  <!-- =========================
       HERO
       ========================= -->
  <section class="hero" aria-label="Hero">
    <div class="hero-card hero-left">
      <div class="img-slot" id="heroLogo">
        <img src="/jmodco/assets/Jmod_LabsTP.png" alt="Jmod Labs logo" />
      </div>
    </div>
    <div class="hero-card hero-right">
      <div class="tag">The Innovation Core of <strong>Jmod Co.</strong></div>
      <h1>Engineering tomorrow’s systems — today.</h1>
      <p>Explore public highlights. Deeper demos and docs require sign-in. All divisions leverage the Labs knowledge base — continuously learning and improving.</p>
      <div class="cta-row">
        <button class="btn primary" onclick="document.getElementById('signin').showModal()">Sign in for access</button>
        <a class="btn" href="#experiments">View active experiments</a>
      </div>
    </div>
  </section>

  <!-- =========================
       CONTENT SECTIONS
       ========================= -->
  <section id="mandate">
    <div class="section-title wrap">
      <h2>R&amp;D Mandate</h2>
      <div class="muted">How Labs turns ideas into systems</div>
    </div>
    <div class="grid">
      <article class="card sm-6">
        <div class="chips"><span class="chip">Core Identity</span></div>
        <h3>The R&amp;D &amp; AI experimentation division</h3>
        <p>Where new technologies, automation ideas, and tools are created and tested.</p>
      </article>
      <article class="card sm-6">
        <div class="chips"><span class="chip">Primary Role</span></div>
        <h3>Design, test, and prototype</h3>
        <p>AI tools, data pipelines, and automation frameworks. Develop internal engines (e.g., the <strong>MODDES™ Core Engine</strong>) for data translation, optimization, and cross-system learning. Trials here later scale into deployable business products.</p>
      </article>
      <article class="card sm-12">
        <div class="chips"><span class="chip">Focus Areas</span></div>
        <ul>
          <li>Machine learning prototypes</li>
          <li>Process automation &amp; predictive analytics</li>
          <li>API integrations &amp; workflow optimization</li>
          <li>Software proof-of-concepts (internal alpha builds)</li>
        </ul>
      </article>
    </div>
  </section>

  <section id="build">
    <div class="section-title wrap">
      <h2>What we build</h2>
      <div class="muted">Rapid prototypes that graduate into real products</div>
    </div>
    <div class="grid">
      <article class="card sm-4">
        <div class="chips"><span class="chip">Apps</span><span class="chip">Frontend + Mobile</span></div>
        <h3>Applied UI + App Scaffolds</h3>
        <p>Authentication stubs, form engines, state patterns, and deployment recipes so features ship faster.</p>
      </article>
      <article class="card sm-4">
        <div class="chips"><span class="chip">Automation</span><span class="chip">APIs</span></div>
        <h3>Workflow &amp; Integrations</h3>
        <p>Connect CRMs, ERPs, spreadsheets, and webhooks. Jobs, retries, and observability so ops run on rails.</p>
      </article>
      <article class="card sm-4">
        <div class="chips"><span class="chip">AI</span><span class="chip">Data</span></div>
        <h3>Decision Engines</h3>
        <p>Prompt chains, retrieval, light models, and evaluators. Built to learn from usage and get cheaper over time.</p>
      </article>
    </div>
  </section>

  <section id="experiments">
    <div class="section-title wrap">
      <h2>Active Experiments</h2>
      <div class="muted">Client identities are protected. Names are always redacted.</div>
    </div>
    <div class="grid">
      <article class="card sm-4">
        <div class="chips">
          <span class="chip status beta">Pilot</span>
          <span class="chip">Labs → Insights</span>
          <span class="chip">Client: <span class="redact">Lisnup Installations</span></span>
        </div>
        <h3>AI Quote Builder (Installations)</h3>
        <p>Automates quoting for remote starts, tint, and electronics. Parts lookup, pricing rules, and clean PDF outputs.</p>
        <div class="actions">
          <a class="btn" href="#" onclick="gate()">Preview</a>
          <a class="btn" href="#" onclick="gate()">Docs</a>
        </div>
      </article>

      <article class="card sm-4">
        <div class="chips"><span class="chip status soon">Coming Soon</span><span class="chip">Labs → Media</span></div>
        <h3>Jmod Media App</h3>
        <p>AI-driven planner + automation: plan → generate → schedule. Feedback improves tone and performance.</p>
        <div class="actions">
          <a class="btn" href="#" onclick="gate()">Roadmap</a>
          <a class="btn" href="#" onclick="gate()">Beta Waitlist</a>
        </div>
      </article>

      <article class="card sm-4">
        <div class="chips"><span class="chip status soon">Coming Soon</span><span class="chip">Labs → Legacy</span></div>
        <h3>Legacy / Haven App</h3>
        <p>Engagement & well-being for seniors: daily prompts, family touchpoints, positive habit loops. Licensing potential for care centers.</p>
        <div class="actions">
          <a class="btn" href="#" onclick="gate()">Concept Brief</a>
          <a class="btn" href="#" onclick="gate()">Partner Interest</a>
        </div>
      </article>

      <article class="card sm-6">
        <div class="chips">
          <span class="chip">Metrics</span>
          <span id="sampleFlag" class="chip" style="display:none">sample</span>
        </div>
        <h3>Pipeline Stats</h3>
        <p class="muted">Auto-computed from <code>/internal/experiments.json</code>, <code>/internal/tools.json</code>, and <code>/internal/transfers.json</code> if present. Otherwise sample values are shown.</p>
        <div class="actions">
          <span class="btn" id="expCount">Active Experiments: –</span>
          <span class="btn" id="toolsCount">Tools Built: –</span>
          <span class="btn" id="xferCount">Transfers: –</span>
        </div>
      </article>

      <article class="card sm-6">
        <div class="chips"><span class="chip">How it works</span></div>
        <h3>Internal Licensing Flow</h3>
        <p>“Transfers” = completed hand-offs from Labs to a Jmod division (e.g., Labs → Media). After transfer, the division licenses to customers; Labs keeps learning via feedback.</p>
      </article>
    </div>
  </section>

  <section id="learn">
    <div class="section-title wrap">
      <h2>How the AI learns</h2>
      <div class="muted">Feedback → signals → better outcomes</div>
    </div>
    <div class="grid">
      <article class="card sm-6">
        <div class="chips"><span class="chip">Signals</span></div>
        <h3>Usage, outcomes, corrections</h3>
        <p>Anonymized task results, user edits, and timing become training signals to improve prompts, rules, and routing.</p>
      </article>
      <article class="card sm-6">
        <div class="chips"><span class="chip">Knowledge</span></div>
        <h3>Structured & searchable</h3>
        <p>Docs and patterns live in the Labs knowledge base. Everything is vector-searchable and versioned for reuse.</p>
      </article>
    </div>
  </section>

  <section id="smb">
    <div class="section-title wrap">
      <h2>Built for Small & Medium Businesses</h2>
      <div class="muted">Automate busywork. Focus on revenue.</div>
    </div>
    <div class="grid">
      <article class="card sm-4">
        <div class="chips"><span class="chip">Quoting</span></div>
        <h3>Instant, accurate quotes</h3>
        <p>Price rules, parts lookup, and clean PDFs. Less time building quotes, more time closing.</p>
      </article>
      <article class="card sm-4">
        <div class="chips"><span class="chip">Content</span></div>
        <h3>Marketing on autopilot</h3>
        <p>Plan → generate → schedule. Keep posts flowing while you’re on jobs.</p>
      </article>
      <article class="card sm-4">
        <div class="chips"><span class="chip">Ops</span></div>
        <h3>From clipboard to dashboard</h3>
        <p>Digitize intake, reconcile inventory, push status updates. No more hunting through texts and spreadsheets.</p>
      </article>
    </div>
  </section>

  <section id="tech">
    <div class="section-title wrap">
      <h2>Current Tech Stack</h2>
      <div class="muted">We update tools as Labs evolves.</div>
    </div>
    <div class="tech">
      <span class="pill">JavaScript/TypeScript</span>
      <span class="pill">Python</span>
      <span class="pill">Cloudflare Workers</span>
      <span class="pill">GitHub Pages</span>
      <span class="pill pill silver">AI Embeddings & Vectors</span>
      <span class="pill">Postgres/SQLite</span>
      <span class="pill">Excel/VBA bridges</span>
      <span class="pill">REST & Webhooks</span>
    </div>
  </section>

  <section id="join">
    <div class="section-title wrap">
      <h2>Collaborate with Labs</h2>
      <div class="muted">Concept submissions open soon</div>
    </div>
    <div class="grid">
      <article class="card sm-12">
        <p>We’ll soon enable concept submissions and private partner access. For now, sign in to register interest and unlock deeper docs.</p>
        <div class="actions" style="justify-content:center">
          <button class="btn primary" onclick="document.getElementById('signin').showModal()">Sign in / Request access</button>
        </div>
      </article>
    </div>
  </section>

  <!-- footer mount -->
  <div id="footerMount"></div>

  <!-- sign-in dialog -->
  <dialog id="signin" aria-labelledby="signin-title">
    <div class="modal">
      <h3 id="signin-title">Sign in to Jmod Labs</h3>
      <p>Public can browse; detailed demos & docs require an account.</p>
    </div>
    <form class="modal-body" method="dialog" onsubmit="return false;">
      <div class="field"><label>Email</label><input type="email" placeholder="you@email.com" required /></div>
      <div class="field"><label>Password</label><input type="password" placeholder="••••••••" required /></div>
      <div class="modal-actions">
        <button class="btn" onclick="document.getElementById('signin').close()">Cancel</button>
        <button class="btn primary" onclick="alert('Stub — wire to auth later')">Sign in</button>
      </div>
    </form>
  </dialog>

  <script>
    // mobile nav
    const toggle = document.querySelector('.nav-toggle');
    const panel  = document.getElementById('mnav');
    toggle?.addEventListener('click', () => {
      const open = panel.classList.toggle('open');
      toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
      panel.setAttribute('aria-hidden', open ? 'false' : 'true');
    });
    panel?.querySelectorAll('a').forEach(a => a.addEventListener('click', () => {
      panel.classList.remove('open'); toggle.setAttribute('aria-expanded','false'); panel.setAttribute('aria-hidden','true');
    }));
    function gate(){ document.getElementById('signin').showModal(); }

    // shared footer
    (async function mountFooter(){
      const mount = document.getElementById('footerMount');
      try{
        const r = await fetch('/jmodco/assets/footer.html', {cache:'no-store'});
        if(!r.ok) throw 0;
        mount.innerHTML = await r.text();
      }catch(e){
        mount.innerHTML = `
          <footer style="border-top:1px solid rgba(201,208,221,.18); background:linear-gradient(180deg, rgba(176,102,255,.08), transparent)">
            <div style="max-width:1200px;margin:0 auto;padding:22px 20px;display:flex;gap:12px;flex-wrap:wrap;color:#d2dcf4;">
              <div>© ${new Date().getFullYear()} Jmod Co.</div>
              <div>Built for small business clarity.</div>
            </div>
          </footer>`;
      }
    })();

    // metrics auto-load
    (async function(){
      const expEl=document.getElementById('expCount'), toolsEl=document.getElementById('toolsCount'),
            xferEl=document.getElementById('xferCount'), sampleFlag=document.getElementById('sampleFlag');
      async function safeJson(path){
        try{ const r=await fetch(path,{cache:'no-store'}); if(!r.ok) throw 0; return await r.json(); }
        catch(e){ return null; }
      }
      const [exps, tools, xfers] = await Promise.all([
        safeJson('/internal/experiments.json'),
        safeJson('/internal/tools.json'),
        safeJson('/internal/transfers.json')
      ]);
      if(exps || tools || xfers){
        const active = Array.isArray(exps) ? exps.filter(e => (e.status||'active').toLowerCase()!=='archived').length : 0;
        const tcount = Array.isArray(tools) ? tools.length : 0;
        const xcount = Array.isArray(xfers) ? xfers.length : 0;
        expEl.textContent=`Active Experiments: ${active}`;
        toolsEl.textContent=`Tools Built: ${tcount}`;
        xferEl.textContent=`Transfers: ${xcount}`;
      } else {
        if(sampleFlag) sampleFlag.style.display='inline-block';
        expEl.textContent='Active Experiments: 3';
        toolsEl.textContent='Tools Built: 12';
        xferEl.textContent='Transfers: 5';
      }
    })();
  </script>
</body>
</html>
