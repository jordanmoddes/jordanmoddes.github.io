<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Jmod AI Â· Resume Intelligence</title>

  <link rel="icon" type="image/png" href="/assets/Signature_WhiteTP.png"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap">

  <style>
    :root{
      --bg-dark:#121212;
      --text-dark:#ffffff;
      --accent-dark:#00ffee;

      --bg-light:#ffffff;
      --text-light:#121212;
      --accent-light:#0000ff;

      --panel-dark: rgba(12,12,12,0.75);
      --panel-light: rgba(255,255,255,0.92);

      --border-dark: rgba(255,255,255,0.12);
      --border-light: rgba(0,0,0,0.12);

      --input-dark: rgba(255,255,255,0.06);
      --input-light: rgba(0,0,0,0.04);
    }

    html[data-theme='dark']{
      background:var(--bg-dark);
      color:var(--text-dark);
      --accent:var(--accent-dark);
      --panel:var(--panel-dark);
      --border:var(--border-dark);
      --input-bg:var(--input-dark);
    }

    html[data-theme='light']{
      background:var(--bg-light);
      color:var(--text-light);
      --accent:var(--accent-light);
      --panel:var(--panel-light);
      --border:var(--border-light);
      --input-bg:var(--input-light);
    }

    body{
      font-family:'Inter',system-ui;
      margin:0;
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    /* =========================
       HEADER + QUICK LINKS
       ========================= */
    header{
      position:sticky;
      top:0;
      z-index:5;
      border-bottom:1px solid var(--border);
      background:linear-gradient(to right,#00ffee,#71fff5,#ffffff);
      color:#000;
    }
    html[data-theme='light'] header{
      background:linear-gradient(to right,#0000ff,#5656fc);
      color:#fff;
    }

    .header-top{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:0.75rem 1.25rem;
    }

    .title{
      display:flex;
      align-items:center;
      gap:0.75rem;
    }
    .title img{width:32px;border-radius:6px}
    .title strong{font-size:1rem}

    .theme-bulb{
      width:40px;height:40px;
      border-radius:50%;
      border:2px solid currentColor;
      background:transparent;
      cursor:pointer;
      font-size:1rem;
    }

    .quick-links{
      display:flex;
      justify-content:center;
      flex-wrap:wrap;
      gap:0.6rem;
      padding:0.5rem 0.75rem 0.75rem;
      font-size:0.85rem;
    }

    .quick-links a{
      display:inline-flex;
      align-items:center;
      gap:0.35rem;
      font-weight:700;
      text-decoration:none;
      color:inherit;
      padding:0.35rem 0.55rem;
      border-radius:6px;
      white-space:nowrap;
    }
    .quick-links a:hover{background:rgba(0,0,0,0.1)}

    /* =========================
       CHAT LAYOUT (IM STYLE)
       ========================= */
    main{
      flex:1;
      display:flex;
      flex-direction:column;
      max-width:900px;
      width:100%;
      margin:0 auto;
    }

    .chat-thread{
      flex:1;
      overflow-y:auto;
      padding:1.25rem;
    }

    .msg{
      max-width:80%;
      padding:0.6rem 0.75rem;
      border-radius:12px;
      border:1px solid var(--border);
      margin-bottom:0.65rem;
      white-space:pre-wrap;
      line-height:1.4;
    }
    .msg.user{align-self:flex-end}
    .msg.bot{align-self:flex-start}

    .chat-input{
      border-top:1px solid var(--border);
      padding:0.75rem;
      background:var(--panel);
      display:flex;
      gap:0.5rem;
    }

    textarea,input,button{
      font-family:inherit;
      border-radius:10px;
      border:1px solid var(--border);
      background:var(--input-bg);
      color:inherit;
      padding:0.6rem;
      font-size:0.9rem;
    }

    textarea{flex:1;min-height:48px;resize:none}
    button.primary{
      border:2px solid var(--accent);
      background:transparent;
      color:var(--accent);
      font-weight:900;
      cursor:pointer;
      padding:0.6rem 0.9rem;
    }
    button.primary:disabled{opacity:0.5}

    .status{
      font-size:0.75rem;
      opacity:0.75;
      margin-top:0.25rem;
    }

    footer{
      text-align:center;
      font-size:0.85rem;
      padding:1rem 0;
      opacity:0.75;
    }
  </style>
</head>

<body>

<header id="contactHeader">
  <div class="header-top">
    <div class="title">
      <img src="/assets/Signature_WhiteTP.png" id="headerLogo">
      <strong>Jmod AI Â· Resume Intelligence</strong>
    </div>
    <button class="theme-bulb" id="themeBulb">ğŸ’¡</button>
  </div>

  <!-- QUICK LINKS STRIP -->
  <div class="quick-links">
    <a href="https://www.linkedin.com/in/jordanmoddes/" target="_blank">ğŸ”— LinkedIn</a>
    <a href="https://calendly.com/jmodwork" target="_blank">ğŸ“… Schedule Interview</a>
    <a href="/Resume-Jordan-Moddes.pdf" target="_blank">ğŸ“„ Resume</a>
    <a href="tel:2627050853">ğŸ“ Call</a>
    <a href="sms:2627050853">ğŸ’¬ Text</a>
    <a href="/vCard.vcf">ğŸ’¾ Save Contact</a>
  </div>
</header>

<main>
  <div class="chat-thread" id="thread"></div>

  <div class="chat-input">
    <textarea id="question" placeholder="Ask a direct questionâ€¦"></textarea>
    <button class="primary" id="sendBtn">Send</button>
  </div>
  <div class="status" id="status">Tip: To connect live, use â€œSchedule Interviewâ€ or â€œCallâ€ above.</div>
</main>

<footer>
  âœ¦ Crafted by Jordan Moddes Â· AI-Partnership âœ¦
</footer>

<script>
(() => {
  const API="https://resume-ai-backend-sx60.onrender.com/ask";
  const STORAGE_KEY="jmod_ai_thread_v1";
  const THEME_KEY="theme";

  const $=id=>document.getElementById(id);
  let threadState=[];

  function loadThread(){
    try{return JSON.parse(localStorage.getItem(STORAGE_KEY))||[]}catch{return[]}
  }
  function saveThread(){localStorage.setItem(STORAGE_KEY,JSON.stringify(threadState))}

  function render(){
    const t=$("thread"); t.innerHTML="";
    threadState.forEach(m=>{
      const d=document.createElement("div");
      d.className="msg "+m.kind;
      d.textContent=m.text;
      t.appendChild(d);
    });
    t.scrollTop=t.scrollHeight;
  }

  function addMsg(kind,text){
    threadState.push({kind,text,ts:Date.now()});
    saveThread(); render();
  }

  async function send(){
    const q=$("question").value.trim();
    if(!q) return;
    $("question").value="";
    addMsg("user",q);
    $("status").textContent="Thinkingâ€¦";

    try{
      const res=await fetch(API,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:q})});
      const data=await res.json();
      addMsg("bot",data.answer||"No response.");
      $("status").textContent="Want to talk live? Schedule an interview or call above.";
    }catch{
      addMsg("bot","Network error. Try again.");
      $("status").textContent="Error.";
    }
  }

  $("sendBtn").onclick=send;
  $("question").addEventListener("keydown",e=>{
    if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();send();}
  });

  // theme
  function setTheme(t){
    document.documentElement.setAttribute("data-theme",t);
    localStorage.setItem(THEME_KEY,t);
    $("headerLogo").src=t==="dark"?"/assets/Signature_WhiteTP.png":"/assets/Signature_BlackTP.png";
  }
  $("themeBulb").onclick=()=>setTheme(document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark");
  setTheme(localStorage.getItem(THEME_KEY)||"dark");

  // init
  threadState=loadThread(); render();
})();
</script>

</body>
</html>
